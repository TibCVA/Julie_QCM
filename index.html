<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Julie la championne</title>
  <meta name="description" content="QCM ultra rigoureux ‚Äî Annales & Actualit√©s" />
  <meta name="theme-color" content="#0ea5e9" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="format-detection" content="telephone=no">
  <meta name="color-scheme" content="light dark">
  <link rel="manifest" href="manifest.webmanifest">
  <link rel="icon" href="icons/icon-192.png" sizes="192x192">
  <link rel="icon" href="icons/icon-512.png" sizes="512x512">
  <link rel="apple-touch-icon" href="icons/icon-192.png">
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <header class="appbar">
    <div class="brand">
      <div class="logo" aria-hidden="true">üèÜ</div>
      <div class="title">
        <h1>Julie la championne</h1>
        <small id="subtitle">Annales 2020‚Äì2024 + Actualit√©s 2024Q4</small>
      </div>
    </div>
    <nav class="top-actions">
      <!-- ‚ú® rendu visible via JS (beforeinstallprompt) -->
      <button id="btn-install" class="ghost" type="button" hidden>Installer</button>
    </nav>
  </header>

  <main class="container">

    <!-- KPIs -->
    <section class="kpis" aria-label="indicateurs">
      <div class="kpi">
        <div class="kpi-value" id="kpi-total">0</div>
        <div class="kpi-label">Questions</div>
      </div>
      <div class="kpi">
        <div class="kpi-value" id="kpi-due">0</div>
        <div class="kpi-label">√Ä r√©viser</div>
      </div>
      <div class="kpi">
        <div class="kpi-value" id="kpi-accuracy">‚Äî</div>
        <div class="kpi-label">Pr√©cision</div>
      </div>
      <div class="kpi">
        <div class="kpi-value" id="kpi-goal">0/0</div>
        <div class="kpi-label">Objectif jour</div>
      </div>
    </section>

    <!-- Filtres & modes -->
    <section class="card" id="filters">
      <div class="card-header">
        <strong>Filtrer & mode</strong>
        <div class="segmented" role="tablist" aria-label="Modes">
          <button data-mode="practice" class="seg active" role="tab" aria-selected="true" type="button">Entra√Ænement</button>
          <button data-mode="exam" class="seg" role="tab" aria-selected="false" type="button">Examen</button>
          <button data-mode="review" class="seg" role="tab" aria-selected="false" type="button">R√©visions</button>
        </div>
        <div id="session-hud" class="session-hud hidden" aria-live="polite">
          <span id="hud-left"></span>
          <span id="hud-mid"></span>
          <span id="hud-right"></span>
        </div>
      </div>

      <div class="grid2">
        <div>
          <label class="lbl">Sources</label>
          <div id="sources"></div>
        </div>
        <div>
          <label class="lbl">Options</label>
          <div class="opts">
            <label><input type="checkbox" id="opt-newOnly"> Prioriser nouvelles</label>
            <label><input type="checkbox" id="opt-dueFirst" checked> R√©viser d‚Äôabord les questions dues</label>
            <label><input type="checkbox" id="opt-shuffle" checked> Al√©atoire</label>
          </div>
        </div>
      </div>

      <div class="grid2">
        <div>
          <label class="lbl" for="goal-input">Objectif quotidien</label>
          <div class="goal">
            <button id="goal-dec" class="ghost" type="button" aria-label="Diminuer l‚Äôobjectif">‚àí</button>
            <input id="goal-input" type="number" min="1" max="500" value="20" inputmode="numeric" aria-live="off">
            <button id="goal-inc" class="ghost" type="button" aria-label="Augmenter l‚Äôobjectif">+</button>
          </div>
        </div>
        <div class="right">
          <button id="btn-reset" class="danger" type="button">R√©initialiser progression</button>
        </div>
      </div>
    </section>

    <!-- Question -->
    <section class="card" id="qcard" aria-live="polite">
      <div class="q-meta">
        <span id="q-tag" class="tag">‚Äî</span>
        <span id="q-index" class="muted">‚Äî</span>
      </div>
      <h2 id="q-text">Chargement‚Ä¶</h2>

      <div id="q-choices" class="choices" role="radiogroup" aria-labelledby="q-text"></div>

      <div id="q-feedback" class="feedback" aria-live="polite"></div>
      <div class="actions">
        <button id="btn-reveal" class="ghost" type="button">R√©v√©ler</button>
        <button id="btn-next" class="primary" type="button">Suivante ‚Üµ</button>
        <button id="btn-restart" class="ghost" type="button">Recommencer</button>
      </div>
    </section>

    <!-- R√©sultats de session -->
    <section class="card hidden" id="results"></section>

    <!-- Stats -->
    <section class="card" id="stats">
      <div class="card-header"><strong>Statistiques</strong></div>
      <div class="grid2">
        <div>
          <ul id="by-source" class="list"></ul>
        </div>
        <div>
          <canvas id="spark" width="600" height="200" aria-label="Historique 14 jours"></canvas>
        </div>
      </div>
      <div class="card-subheader">Historique des sessions</div>
      <ul id="history" class="list"></ul>
      <div class="muted right">Raccourcis : <kbd>N</kbd> suivante ‚Ä¢ <kbd>R</kbd> r√©v√©ler ‚Ä¢ <kbd>‚ê£</kbd> valider</div>
    </section>

  </main>

  <footer class="foot">
    <div class="foot-actions">
      <button id="btn-reboot" class="danger-outline" type="button">Red√©marrer l‚Äôapplication (remise √† z√©ro)</button>
    </div>
    <small>¬© 2025 ‚Äì Julie la championne ‚Ä¢ Ultra rigoureux, z√©ro invention ‚Ä¢ Offline/PWA</small>
  </footer>

  <noscript>Veuillez activer JavaScript pour utiliser l‚Äôapplication.</noscript>
  <script src="app.js" defer></script>
</body>
</html>