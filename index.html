<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Julie la championne</title>
  <meta name="description" content="QCM ultra rigoureux ‚Äî Annales & Actualit√©s" />
  <meta name="theme-color" content="#2563eb" />
  <link rel="manifest" href="manifest.webmanifest">
  <link rel="apple-touch-icon" href="icons/icon-192.png">
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <header class="appbar">
    <div class="brand">
      <div class="logo">üèÜ</div>
      <div class="title">
        <h1>Julie la championne</h1>
        <small id="subtitle">Annales 2020‚Äì2024 + Actualit√©s 2024Q4</small>
      </div>
    </div>
    <nav class="top-actions">
      <button id="btn-install" class="ghost">Installer</button>
    </nav>
  </header>

  <main class="container">

    <!-- KPIs -->
    <section class="kpis" aria-label="indicateurs">
      <div class="kpi">
        <div class="kpi-value" id="kpi-total">0</div>
        <div class="kpi-label">Questions</div>
      </div>
      <div class="kpi">
        <div class="kpi-value" id="kpi-due">0</div>
        <div class="kpi-label">√Ä r√©viser</div>
      </div>
      <div class="kpi">
        <div class="kpi-value" id="kpi-accuracy">‚Äî</div>
        <div class="kpi-label">Pr√©cision</div>
      </div>
      <div class="kpi">
        <div class="kpi-value" id="kpi-goal">0/0</div>
        <div class="kpi-label">Objectif jour</div>
      </div>
    </section>

    <!-- Filtres & mode -->
    <section class="card" id="filters">
      <div class="card-header">
        <strong>Mode & filtres</strong>
        <div class="segmented">
          <button data-mode="practice" class="seg active">Entra√Ænement</button>
          <button data-mode="exam" class="seg">Examen</button>
          <button data-mode="review" class="seg">R√©visions</button>
        </div>
      </div>

      <div class="grid2">
        <div>
          <label class="lbl">Sources</label>
          <div id="sources"></div>
        </div>
        <div>
          <label class="lbl">Options</label>
          <div class="opts">
            <label><input type="checkbox" id="opt-newOnly"> Favoriser les nouvelles (jamais vues)</label>
            <label><input type="checkbox" id="opt-dueFirst" checked> Cartes dues d‚Äôabord (SRS)</label>
            <label><input type="checkbox" id="opt-shuffle" checked> Al√©atoire</label>
          </div>
        </div>
      </div>

      <div class="grid2">
        <div>
          <label class="lbl">Objectif quotidien</label>
          <div class="goal">
            <button id="goal-dec" class="ghost">‚àí</button>
            <input id="goal-input" type="number" min="1" max="500" value="20" inputmode="numeric">
            <button id="goal-inc" class="ghost">+</button>
          </div>
        </div>
        <div class="right">
          <button id="btn-reset" class="danger">R√©initialiser progression</button>
        </div>
      </div>
    </section>

    <!-- Question -->
    <section class="card" id="qcard" aria-live="polite">
      <div class="q-meta">
        <span id="q-tag" class="tag">‚Äî</span>
        <span id="q-index" class="muted">‚Äî</span>
      </div>
      <div id="sessionbar" class="sessionbar hidden"></div>
      <h2 id="q-text">Chargement‚Ä¶</h2>
      <div id="q-choices" class="choices"></div>
      <div id="q-feedback" class="feedback hidden"></div>
      <div class="actions">
        <button id="btn-reveal" class="ghost hidden">R√©v√©ler</button>
        <button id="btn-restart" class="ghost">Recommencer</button>
        <button id="btn-next" class="primary">Suivante ‚Üµ</button>
      </div>
    </section>

    <!-- R√©sultats (fin de session) -->
    <section class="card hidden" id="results">
      <div class="card-header"><strong id="results-title">R√©sultats</strong></div>
      <p id="results-summary" class="muted"></p>
      <ol id="results-list" class="results-list"></ol>
      <div class="right">
        <button id="btn-close-results" class="ghost">Fermer</button>
      </div>
    </section>

    <!-- Stats -->
    <section class="card" id="stats">
      <div class="card-header"><strong>Statistiques</strong></div>
      <div class="grid2">
        <div>
          <ul id="by-source" class="list"></ul>
        </div>
        <div>
          <canvas id="spark" width="600" height="200" aria-label="Historique 14 jours"></canvas>
        </div>
      </div>
      <div class="muted right">Raccourcis : <kbd>N</kbd> suivante ‚Ä¢ <kbd>R</kbd> r√©v√©ler ‚Ä¢ <kbd>‚ê£</kbd> valider</div>
    </section>

    <!-- Historique -->
    <section class="card" id="history">
      <div class="card-header"><strong>Historique des sessions</strong></div>
      <ul id="history-list" class="list"></ul>
    </section>

  </main>

  <footer class="foot">
    <div class="foot-row">
      <small>¬© 2025 ‚Äì Julie la championne ‚Ä¢ Ultra rigoureux, z√©ro invention ‚Ä¢ Offline/PWA</small>
      <button id="btn-hard-reset" class="danger outline">Rebooter l‚Äôapp</button>
    </div>
  </footer>

  <script src="app.js" defer></script>
</body>
</html>
